# =======================
# Shiro INI configuration
# =======================

[main]
# Objects and their properties are defined here,
# Such as the securityManager, Realms and anything
# else needed to build the SecurityManager

jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm

jdbcRealm.authenticationQuery = SELECT clave FROM Usuarios WHERE nombre = ?
jdbcRealm.userRolesQuery = SELECT rol FROM Usuarios WHERE nombre = ? GROUP BY rol

# Configuration database
dataSource = org.h2.jdbcx.JdbcDataSource
dataSource.URL = jdbc:h2:~/test
dataSource.user = sa
dataSource.password = sa
jdbcRealm.dataSource = $dataSource

authc.loginUrl = /faces/login.xhtml

#default hash algorithm is SHA-256
passwordMatcher = org.apache.shiro.authc.credential.PasswordMatcher
passwordService = org.apache.shiro.authc.credential.DefaultPasswordService
passwordMatcher.passwordService = $passwordService
jdbcRealm.credentialsMatcher = $passwordMatcher

# only not autenticated,  path of you filter(filter to "block" login.xhtml page to logged users , they have to logout to use login.xhtml page.)
#path of you filter
#onlynot = edu.eci.cvds.security.OnlyNotAutenticated
#onlynot.welcomeurl = /faces/index.html

builtInCacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager
securityManager.cacheManager = $builtInCacheManager

[users]
# The 'users' section is for simple deployments
# when you only need a small number of statically-defined
# set of User accounts.

[roles]
# The 'roles' section is for simple deployments
# when you only need a small number of statically-defined
# roles.

[urls]
# The 'urls' section is used for url-based security
# in web applications.  We'll discuss this section in the
# Web documentation
/faces/login.xhtml = authc
/=logout

#/=onlynot
#/login.xhtml = onlynot
