<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    <title> Modificar necesidad </title>
    <link rel="stylesheet" href="../style.css"></link>
</h:head>
<style>
.container{
    display: block;
    margin: auto;
    margin-top: 80px;
    width: 35%;
}

.header {
    background-color: #7e132300;
    width: 100%;
    height: 50px;
}

.headerElements {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    color: white;
    height: 100%;
    padding-left: 10px;
    padding-right: 10px;
    margin-top: -10px;
}

</style>
<h:body>
    <h:form id="Categories">
        <div style="background-color: #7e1323; height: 10px;"></div>
        <div class="header">
            <div class="headerElements">
                <p:commandButton id="dynaButton" value="#{LoginBean.user}" type="button" icon="pi pi-bars" style="background-color: #7e1323; border-color: #7e1323;"/>
                <p:menu overlay="true" trigger="dynaButton" my="left top" at="left bottom">
                    <p:submenu label="Navigations">
                        <p:menuitem value="Log out" actionListener="#{LoginBean.logOut()}" update="Categories" icon="pi pi-external-link"/>
                    </p:submenu>
                </p:menu>
            </div> 
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 100" style="position: absolute; top: 10px; z-index: -1;">
                <path fill="#7e1323" fill-opacity="1" d="M0,32L480,0L960,64L1440,32L1440,0L960,0L480,0L0,0Z"></path>
            </svg>
        </div>
        <div class="container">
            <p:panel header="Info #{LoginBean.necesidad.nombre}" style="text-align: center" name="panel" id="item1">   
                <h:panelGrid columns="2" style="margin: auto" >
                    <p:outputLabel for="@next" value="ID"/>
                    <p:inputText  id="ID" type="String" value="#{LoginBean.necesidad.idSolicitud}" readonly="true" style="text-align: center; background-color:#eaecec; margin: 10px;"/>
                    <p:outputLabel for="@next" value="Nombre"/>
                    <p:inputText  id="ModifyName" type="String" binding="#{nombre}" style="margin: 10px;"/>
                    <p:outputLabel for="@next" value="Descripcion" />
                    <p:inputTextarea id= "ModifyDes" rows="6" cols="30" type="String" binding="#{descripcion}" style="margin: 10px; width: 220px; font-size: 12px;"/>
                    <p:outputLabel for="@next" value="Fecha de Creacion" />
                    <p:inputText  id= "CDate" type="String" value="#{LoginBean.necesidad.fechaCreacion}" readonly="true" style="text-align: center; background-color:#eaecec; margin: 10px;"/>
                    <p:outputLabel for="@next" value="Ultima Modificacion" />
                    <p:inputText  id= "MDate" type="String" value="#{LoginBean.necesidad.fechaModificacion}" readonly="true" style="text-align: center; background-color:#eaecec; margin: 10px;"/>
                    <p:outputLabel for="@next" value="Urgencia"/>
                    <p:inputText  id="Urgency" type="String" value="#{LoginBean.necesidad.urgencia}" readonly="true" style="text-align: center; background-color:#eaecec; margin: 10px;"/>
                    <p:outputLabel for="@next" value="Estado" />
                    <p:selectOneMenu id="option"  binding="#{estado}" style="width: 220px;">
                        <f:selectItem itemLabel="Activa" itemValue="Activa"/>
                        <f:selectItem itemLabel="En proceso" itemValue="En proceso"/>
                        <f:selectItem itemLabel="Resuelta" itemValue="Resuelta"/>
                        <f:selectItem itemLabel="Cerrada" itemValue="Cerrada"/>
                    </p:selectOneMenu>
                    
                </h:panelGrid>
                <p:commandButton id="Modify" style="margin: 30px;" value="Modificar" action="Necesidad?faces-redirect=true" actionListener="#{LoginBean.actualizarNecesidad(LoginBean.necesidad.idSolicitud,LoginBean.necesidad.nombre,LoginBean.necesidad.descripcion,estado.value)}" styleClass="ui-button"/>
            </p:panel>   
        </div>
    </h:form>
    <svg style="margin: 0; position:absolute; bottom: 0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 100">
        <path style="margin: 0" fill="#7e1323" fill-opacity="1" d="M0,32L480,0L960,64L1440,32L1440,320L960,320L480,320L0,320Z"></path>
    </svg>
</h:body>
</html>